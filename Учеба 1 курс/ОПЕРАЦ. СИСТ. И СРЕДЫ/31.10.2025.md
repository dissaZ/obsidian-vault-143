[[ОСИС]]
[[17.s10.2025]] завершили.
# Основы сетевых технологий в windows: Диагностика и автоматизация.

**Сетевая диагностика** - это систематический процесс выявления, локализации и устранения неисправностей в компьютерной сети, направленный на восстановление её нормальной работоспособности.

Включает в себя
- обнаружение проблемы
- локализация неисправности
- выявление корневой причины
- решение проблемы
- верификация и документирование

# Определение сетевой диагностики
**Сетевая диагностика** использует подход "снизу-вверх".

Этапы:
- физический уровень. (есть ли связь?) *самый нижний*
- канальный уровень. (Видит ли компьютер соседей в локальной сети?)
- сетевой уровень. (можно ли выйти за пределы локальной сети?)
- транспортный уровень (Доходят ли данные до нужной программы?)
- прикладной уровень. (работает ли сама служба или приложение?)

# Ключевые сетевые концепции
**IP-адрес** - это уникальный идентификатор устройства в сети
бывает двух версий:

- IPv4 - классический формат например 192.168.1.10. Это 4 числа от 0 до 255, разделенные точками. Из-за роста интернета адресов этой версии почти не осталось.
- IPv6 - Новый формат, например 2001:0db8:85a3:0000:0000:8a2e:0370:7334. Он решает проблему нехватки адресов

### Существует два типа адресов
- Частный (private) IP - адрес внутри вашей домашней или office сети ( например 192.168.1.5) его не видно напрямую из интернета
- Публичный (Public) IP - Общий, адрес, который ваш роутер показывает всему интернету. Его выдает ваш интернет-провайдер. Все устройства в вашей локальной сети "выходят" в интернет под этим одним адресом.

Шлюз по умолчанию - это точка входа в другие сети

когда комп хочет отправить данные за пределы своей локальной сети, он отправляет сначала всё на шлюз по умолчанию.

**Физически это почти всегда маршрутизатор.** его частный ip адрес и является шлюзом по умолчанию для всех ваших устройств.

Его задачи
- маршрутизация - решить, куда направить исходящий трафик
- Трансляция адресов (NAT) - переписывать конверты, подменяя частный IP компьютера на публичный IP роутера, когда данные уходят в интернет, и наоборот - когда ответ возвращается.

# DNS (Domain name system) 
это система преобразования доменных имен в ip-адреса

как это работает
1. в браузере вводится youtube.com
2. компьютер спрашивает у dns-сервера (его адрес обычно выдается провайдером или он прописан вручную) "какой ip-адрес у youtube.com?"
3. dns-сервер отвечает - это 142.251.214.142
4. Теперь компьютер может установить прямое соединение с этим ip-адресом

**Без DNS интернет не существовал бы. Пришлось бы посещать сайты по их IP-адресам.**


**Порт (Port) - это конечная точка сетевого соединения

Когда данные приходят на устройство, порт указывает какому именно приложению эти данные предназначены.

Это числовой идентификатор от 0 до 65535

Примеры:
- веб-браузер по дефолту от 80(http) до 443 (https)
- почтовое приложение использует порт 25 (smtp) для отправки и 110(pop3) для приема.
- ssh-сервер использует порт 22.
Благодаря портам можно одновременно сидеть в браузере, скачивать файлы и общаться в мессенджере на одном и том же компе с одним ip-адресом. Система понимает, что веб-трафик - к порту 443, трафик мессенджера - к порту 5222, и т.д.

# Сетевые команды

| название                              | Описание               |
| ------------------------------------- | ---------------------- |
| ipconfig                              | Базовая информация     |
| ipconfig /all                         | подробная информация   |
| ipconfig /release или ipconfig /renew | обновление dhcp-аренды |
| ipconfig /flushdns                    | очистка dns-кеша       |
| ipconfig /displaydns                  | показать dns-кеш       |

| Название                       | Описание                           |
| ------------------------------ | ---------------------------------- |
| ping google.com / ping 8.8.8.8 | базовая проверка                   |
| ping -n 10 google.com          | с указанием количества пакетов     |
| ping -t google.com             | непрерывный ping (для мониторинга) |
| ping -I 1000 google.com        | с указанием размера пакета         |
# Tracert - карта маршрутов

| Название                 | Описание                                     |
| ------------------------ | -------------------------------------------- |
| tracert google.com       | базовая трассировка                          |
| tracert -h 30 google.com | с указанием максимального количества прыжков |
- **Звездочки** `*` пакет потерян на этом участке
- **Большие задержки** перегруженный узел

# NSlookup - диагностика DNS

| Название            | описание            |
| ------------------- | ------------------- |
| nslookup google.com | одиночный запрос    |
| nslookup            | интерактивный режим |

| название                         | описание                                       |
| -------------------------------- | ---------------------------------------------- |
| netstat -a                       | все активные соединения                        |
| netstat -ab                      | с отображением процессов                       |
| netstat -an \| findstr LISTENING | только прослушивающие порты                    |
| netstat -s                       | статистика по протоколам                       |
| netstat -n                       | быстрый просмотр установленных TCP-соединений. |
**Listening** порт открыт и ожидает соединений
**established** активное соединение
**time_wait** завершающееся соединения.

