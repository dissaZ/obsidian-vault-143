# Указатели
#Указатели

Указатель (pointer) это переменная, которая хранит адрес некоторого объекта в оперативной памяти.
Логически оперативная память представляет собой непрерывную последовательность байт, каждый из которых имеет свой порядковый номер, называемый адресом.


|            Адреса есть у             |       Адресов нет у        |
|:------------------------------------:|:--------------------------:|
|   переменных классов auto и static   |          констант          |
|               функций                |         выражений          |
| динамически выделенных блоков памяти | переменных класса register |
|           отдельных байтов           |             -              |

# Указатели и виды указателей

## Указатели используют
 - при работе с массивами
 - для передачи параметров в функции
 - для работы с файлами
 - для работы с динамической памятью

### В зависимости от базового типа
- Типизированный указатель "знает" тип объекта, на который он указывает (размер, способ кодирования, операции)
- обобщенный указатель (указатель на void, нетепизированный указатель, указатель на "нечто") "знает" только адрес

## Общий вид объявления указателя такой же, как и у обычной переменной. Отличие в одном символе


```
базовый тип * имя_указателя

	void *p; /* универсальный указатель (на любой тип данных) */
	int *pI_1, *pI_2; /* два указателя на int */


```
*void - отсутствие типа (пустой тип)*


# Чем инициализировать указатель?

1. Константа NULL - нулевой адрес, не соответсвующий никакому реальному адресу. По нулевому указателю не может быть ничего ни записано, ни прочитано.
```
char * pC = NULL;
int * pI = NULL;
double * pD = NULL;
void * p = NULL;
```
2. Адрес переменной того же типа. Указателю на void можно присвоить адрес переменной любого типа
```
int i, pI = &i; адрес перменной i
void p = &pI; адрес переменной pI
```
3. Значение указателя того же типа. Указателю на void можно присвоить значение любого указателя

![[Указатель.canvas|Указатель]]
# Как вывести указатель?
%p - для вывода адресов (указателей)
выводит адрес в шестнадцатеричном формате
```
#include <stdio.h>

int main() {
	int a = 10;
	int *p = &a;
	
	//выводит адреса указателя ( значения самого указателя )//
	printf ("адрес переменной a: %p\n", p);
	
	// вывод адреса самого указателя //
	printf ("адрес указателя p: %p\n", &p);
	
	return 0;
}

```
*Унарная* * - операция получения значения по адресу или операция разыменования

### С разыменованными значениями можно выполнять те же операции что и с обычной переменной.

# Операции над указателями
- sizeof - размер в байтах ( не зависит от типа указателя, только от платформы)
- (тип) - явное приведения типа
- * - получение значения по адресу ( разыменование)
- & - получение адреса
- = - присваивание
- операции адресной арифметики

# Void
- void* - универсальный указатель, который может хранить адрес любого типа данных
- Нельзя разыменовать void* напрямую: * pVoid - ошибка
- Перед разыменованием требуется явное приведение типа: * (int)pVoid
- Приведение типа сообщает компилятору, как интерпретировать данные по адресу

# Сколько байт в памяти занимают переменные базового типа


| Тип данных | Занимаемая память ( в байтах ) |
| ---------- | ------------------------------ |
| char       | 1                              |
| int        | 4                              |
| float      | 4                              |
| double     | 8                              |
| void       | 8                              |
![[image-27.png|581x309]]

указателях.

![[image-28.png|576x310]]

![[image-29.png|578x320]]


Указатель - это переменная, в которой можно хранить адрес другой переменной.